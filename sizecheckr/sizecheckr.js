var Plugin=function(){"use strict";var partnerSizes,$lightbox=$("#pluginLightbox"),$box=$("#pluginFrame"),$close=$("#pluginClose"),$menuList=$(".shopNav li"),$sizeList=$("li[data-pluginSize]"),$pluginButton=$("#pluginButton"),urlBase="../sizecheckr/server/",updateCloseBtnPosition=function(){if($box.is(":visible")){var boxPosition=$box.position(),newPos=boxPosition.left+$box.width()-$close.outerWidth(!0);$close.css({top:boxPosition.top,left:newPos})}};$close.on("click",function(e){e.preventDefault(),$lightbox.fadeOut(400)}),$lightbox.on("click",function(e){0!==$box.has(e.target).length||$box.is(e.target)||$lightbox.fadeOut(400)}),$menuList.on("click",function(e){$menuList.removeClass("active"),$(this).addClass("active"),e.preventDefault()}),$sizeList.on("click",function(e){$sizeList.removeClass("active"),$(this).addClass("active"),e.preventDefault()});var getGenreSelected=function(){var size="M";return $menuList.each(function(){$(this).hasClass("active")&&(size=$(this).data("plugingenre"))}),size},getSizeSelected=function(){var size="S";return partnerSizes=[],$sizeList.each(function(){partnerSizes.push($(this).data("pluginsize")),$(this).hasClass("active")&&(size=$(this).data("pluginsize"))}),size};return $pluginButton.on("click",function(e){e.preventDefault(),$close.hide();var xSize=getSizeSelected(),xGenre=getGenreSelected(),xProdu=$(this).data("product")?$(this).data("product"):"ROUPA QUALQUER",url=urlBase+"sizecheckr.html?g="+xGenre+"&p="+xProdu+"&s="+xSize+"&t="+partnerSizes;$box.attr("src",url),$lightbox.fadeIn(600,function(){updateCloseBtnPosition(),$close.fadeIn(400)})}),{updateCloseBtnPosition:updateCloseBtnPosition}}();$(window).resize(function(){Plugin.updateCloseBtnPosition()});